(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{7539:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/top_rated",function(){return s(2880)}])},9527:function(e,t,s){"use strict";var r=s(5893),n=s(875),a=s(5675),o=s.n(a),c=s(7294),i=s(134),l=s(7516),d=s(1163),u=s(4607),m=s(9828),f=s(6501),g=s(6801);let x=e=>{let{title:t,imageURL:s,movieID:a}=e,{setShowLoginModal:x,setSelectedMovieID:p,setSavedMovieIDS:v,savedMovieIDS:h}=(0,c.useContext)(i.Il),j=(0,d.useRouter)(),k=e=>{j.push("/preview/".concat(e)),p(e),localStorage.setItem("selectedMovieID",e)},_=async()=>{var e,r;let n=[...h];if(null===(e=u.lX.currentUser)||void 0===e?void 0:e.uid){console.log(null===(r=u.lX.currentUser)||void 0===r?void 0:r.uid),console.log(a);let e={title:t,id:a,uid:u.lX.currentUser.uid,backdrop_path:s,poster_path:s,description:""},o="user_bookmarks/".concat(u.lX.currentUser.uid,"/saved_bookmarks/").concat(a),c=localStorage.getItem("savedMovies")||"",i=(0,m.hJ)(u.mz,"user_bookmarks/".concat(u.lX.currentUser.uid,"/saved_bookmarks"));if(c.includes(a))!function(e,t){let s=f.ZP.loading("removing item...");(0,g.e)(e,t).then(e=>{console.log("result",e),f.ZP.dismiss(s),console.log("Item removed successfully"),f.ZP.success("Item removed successfully")}).catch(e=>{console.error("Error removing item:",e),f.ZP.dismiss(s),f.ZP.error("Error removing item:",e)})}(a.toString(),i);else{let t=f.ZP.loading("Loading...");await (0,m.pl)((0,m.JU)(u.mz,o),e).then(()=>{f.ZP.success("Added to bookmarks"),f.ZP.dismiss(t),n.push(a),v(n)}).catch(()=>{f.ZP.error("Error occured adding bookmark")}),localStorage.setItem("savedMovies",JSON.stringify(n))}}else console.log("login to save a movie"),x(!0)},b=()=>{console.log("Bookmark clicked"),_()},y=e=>{e.target instanceof SVGElement?b():k(a)};return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{style:{background:"rgba(169, 169, 169, 0.2)"},className:"max-w-[350px] rounded-md w-[280px] h-[400px] p-2 cursor-pointer ",onClick:y,children:[(0,r.jsx)(o(),{src:n.Ym+s||"/no_preview.jpg",alt:t,width:300,height:300,className:"h-[85%] object-cover rounded-md  bg-gray-400"}),(0,r.jsxs)("div",{className:"flex justify-between p-2 items-center",children:[(0,r.jsx)("p",{className:"w-[90%] max-lines-2",children:t}),Array.from(h).includes(a)?(0,r.jsx)(l.ASR,{size:28,className:"text-green-400"}):(0,r.jsx)(l.p4i,{size:28})]})]})})};t.Z=x},6224:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var r=s(5893),n=s(9583),a=s(7516),o=s(5434);let c=[{name:"Home",icon:n.xng,route:"/"},{name:"Discover",icon:o.wYG,route:"/discover"},{name:"Trending",icon:n.NcA,route:"/trending"},{name:"TV Shows",icon:n.RsC,route:"/tv_shows"},{name:"Top Rated",icon:a.Z0Y,route:"/top_rated"},{name:"Saved Trailers",icon:a.eXA,route:"/bookmarks"}];var i=s(1664),l=s.n(i),d=s(1163);s(7294);let u=()=>{let e=(0,d.useRouter)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("nav",{className:"w-[300px]  border-gray-600 py-6 px-4 flex  gap-10 flex-col ",children:c.map(t=>(0,r.jsx)(l(),{className:e.pathname===t.route?"text-brand":"",href:t.route,children:(0,r.jsxs)("div",{className:"flex p-3 gap-3 items-center font-medium text-xl rounded-md hover:bg-[#ffffff12]",children:[(0,r.jsx)(t.icon,{size:24}),(0,r.jsx)("p",{children:t.name})]})},t.name))})})};var m=u},8409:function(e,t,s){"use strict";var r=s(5893);s(7294);var n=s(5434),a=s(1163),o=s(6224);let c=e=>{let{children:t,currentPage:s,totalPages:c,title:i,actionNext:l,actionPrev:d}=e;return(0,a.useRouter)(),(0,r.jsxs)("section",{className:"flex flex-1 h-[91vh]",children:[(0,r.jsx)(o.Z,{}),(0,r.jsxs)("main",{className:" flex flex-col flex-1",children:[(0,r.jsxs)("header",{className:"h-16 flex items-center justify-between lg:px-20",children:[(0,r.jsx)(n.sG8,{size:28,onClick:d}),(0,r.jsx)("h3",{className:"text-xl",children:i}),(0,r.jsx)(n.AeI,{size:28,onClick:l})]}),(0,r.jsx)("section",{className:" p-4 h-[80vh] flex-1 overflow-y-scroll",children:(0,r.jsx)("div",{className:" flex justify-center  px-6  gap-6 gap-y-10 flex-wrap h-full items-center",children:t})})]})]})};t.Z=c},1865:function(e,t,s){"use strict";var r=s(5893);let n=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"lds-ring ",children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})});t.Z=n},875:function(e,t,s){"use strict";s.d(t,{Bu:function(){return c},Iq:function(){return a},Pg:function(){return o},Ym:function(){return n},r6:function(){return i}});let r="https://api.themoviedb.org/3/",n="https://image.tmdb.org/t/p/w1280";"".concat(r,"movie/popular?api_key=").concat("49aadc9bda210df9f0d47e374c404fd5","&language=en-US");let a="".concat(r,"discover/movie?api_key=").concat("49aadc9bda210df9f0d47e374c404fd5","&language=en-US"),o="".concat(r,"tv/popular?api_key=").concat("49aadc9bda210df9f0d47e374c404fd5","&language=en-US"),c="".concat(r,"trending/movie/day?api_key=").concat("49aadc9bda210df9f0d47e374c404fd5","&language=en-US"),i="".concat(r,"discover/movie?certification_country=US&certification.lte=G&sort_by=popularity.desc&api_key=").concat("49aadc9bda210df9f0d47e374c404fd5","&language=en-US");"".concat(r,"search/multi?api_key=").concat("49aadc9bda210df9f0d47e374c404fd5","&language=en-US&page=1")},2880:function(e,t,s){"use strict";s.r(t);var r=s(5893),n=s(9527),a=s(8409),o=s(1865),c=s(875),i=s(6154),l=s(7294),d=s(5675),u=s.n(d);let m=()=>{let[e,t]=(0,l.useState)(!1),[s,d]=(0,l.useState)(null),[m,f]=(0,l.useState)(1),[g,x]=(0,l.useState)(100),p=(e,s)=>{t(!0),i.Z.request({method:"GET",url:e,params:{api_key:"49aadc9bda210df9f0d47e374c404fd5",language:"en-US",page:s}}).then(function(e){console.log(e.data),d(e.data),x(e.data.total_pages),t(!1)}).catch(function(e){console.error(e),t(!1)})};console.log("currentPage",m);let v=()=>{m<=g&&(f(e=>e+1),console.log("met"))},h=()=>{m<=1||f(m-1)};return(0,l.useEffect)(()=>{p(c.r6,m)},[m]),(0,r.jsx)(a.Z,{actionNext:v,actionPrev:h,title:"Top Rated Movies",children:e?(0,r.jsx)(o.Z,{}):s?s.results.map(e=>{let{title:t,name:s,id:a,poster_path:o}=e;return(0,r.jsx)(n.Z,{title:t||s,imageURL:o,movieID:a},a)}):(0,r.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[(0,r.jsx)(u(),{src:"/error.png",alt:"error",width:450,height:450}),(0,r.jsx)("p",{className:"text-xl",children:"Error getting movies"})," "]})})};t.default=m}},function(e){e.O(0,[228,774,888,179],function(){return e(e.s=7539)}),_N_E=e.O()}]);